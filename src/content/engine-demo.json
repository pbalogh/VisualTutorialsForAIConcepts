{
  "id": "engine-demo",
  "title": "Tutorial Engine Demo",
  "subtitle": "A self-documenting demonstration of the data-driven tutorial system",
  "state": {
    "correlationR": 0.65,
    "sampleSize": 50,
    "showAdvanced": false,
    "temperature": 72,
    "confidence": 0.95
  },
  "content": {
    "type": "Fragment",
    "children": [
      {
        "type": "Section",
        "props": {
          "title": "1. Live State Bindings"
        },
        "children": [
          {
            "type": "p",
            "children": [
              "This tutorial engine supports ",
              {
                "type": "strong",
                "children": "live state bindings"
              },
              {
                "type": "DeepDive",
                "props": {
                  "title": "Deep Dive: live state bindings",
                  "defaultOpen": true
                },
                "children": [
                  {
                    "type": "p",
                    "children": "Live state bindings are what make your user interface truly reactive - they create a direct, automatic connection between your application's data and what appears on screen. Unlike traditional approaches where you manually update the DOM whenever data changes, live bindings establish a persistent link that keeps everything synchronized without you having to think about it."
                  },
                  {
                    "type": "p",
                    "children": "Think of it like a smart mirror that automatically reflects any changes you make. When you bind a piece of state to a UI element, you're essentially saying \"whatever happens to this data, make sure the screen always shows the current version.\" For example, if you have a counter variable bound to a text element, every time that counter increments, the displayed number updates instantly - no additional code required. This happens because the binding system is constantly watching your state and pushing changes to the connected elements."
                  },
                  {
                    "type": "p",
                    "children": "This concept becomes especially powerful when combined with reactive programming patterns and component-based architectures. Live bindings work hand-in-hand with concepts like observables, computed properties, and state management systems. They're also the foundation that enables features like two-way data binding in forms, where user input automatically updates your application state while state changes flow back to update the form fields."
                  },
                  {
                    "type": "p",
                    "children": "Now you can build interfaces that feel fluid and responsive without writing tedious update logic. Instead of manually tracking what needs to change when data updates, you can focus on defining the relationships between your data and UI once, then let the binding system handle all the synchronization work for you."
                  }
                ]
              },
              ". Variables defined in the JSON are reactive â€” when one component changes a value, all other components that reference it update instantly."
            ]
          },
          {
            "type": "Card",
            "children": [
              {
                "type": "p",
                "children": [
                  "Current correlation value: ",
                  {
                    "type": "StateValue",
                    "props": {
                      "bind": "correlationR",
                      "format": ".2f"
                    }
                  },
                  ". With a sample size of ",
                  {
                    "type": "StateValue",
                    "props": {
                      "bind": "sampleSize",
                      "format": ".0f"
                    }
                  },
                  ", this represents a ",
                  {
                    "type": "StateComputed",
                    "props": {
                      "compute": "correlationR > 0.7 ? 'strong' : correlationR > 0.4 ? 'moderate' : 'weak'"
                    }
                  },
                  " relationship."
                ]
              },
              {
                "type": "Slider",
                "props": {
                  "bind": "correlationR",
                  "min": -1,
                  "max": 1,
                  "step": 0.01,
                  "label": "Correlation (r)"
                }
              },
              {
                "type": "Slider",
                "props": {
                  "bind": "sampleSize",
                  "min": 10,
                  "max": 200,
                  "step": 10,
                  "label": "Sample Size (n)"
                }
              }
            ]
          },
          {
            "type": "Callout",
            "props": {
              "type": "tip"
            },
            "children": "Try dragging the sliders above. Notice how the text updates in real-time!"
          }
        ]
      },
      {
        "type": "Section",
        "props": {
          "title": "2. Conditional Content"
        },
        "children": [
          {
            "type": "p",
            "children": "Content can appear or disappear based on state values. Toggle the switch below:"
          },
          {
            "type": "Toggle",
            "props": {
              "bind": "showAdvanced",
              "label": "Show advanced content"
            }
          },
          {
            "type": "StateConditional",
            "props": {
              "when": "showAdvanced"
            },
            "children": {
              "type": "Card",
              "props": {
                "className": "border-purple-200 bg-purple-50"
              },
              "children": [
                {
                  "type": "h3",
                  "props": {
                    "className": "text-lg font-bold text-purple-800 mb-2"
                  },
                  "children": "ðŸ”¬ Advanced Section"
                },
                {
                  "type": "p",
                  "children": [
                    "This section only appears when 'Show advanced content' is enabled. ",
                    "The current confidence level is ",
                    {
                      "type": "StateValue",
                      "props": {
                        "bind": "confidence",
                        "format": ".0%"
                      }
                    },
                    "."
                  ]
                },
                {
                  "type": "Slider",
                  "props": {
                    "bind": "confidence",
                    "min": 0.5,
                    "max": 0.99,
                    "step": 0.01,
                    "label": "Confidence Level"
                  }
                }
              ]
            }
          }
        ]
      },
      {
        "type": "Section",
        "props": {
          "title": "3. Computed Expressions"
        },
        "children": [
          {
            "type": "p",
            "children": [
              "StateComputed allows arbitrary JavaScript expressions. For example, with r = ",
              {
                "type": "StateValue",
                "props": {
                  "bind": "correlationR",
                  "format": ".2f"
                }
              },
              ":"
            ]
          },
          {
            "type": "ul",
            "children": [
              {
                "type": "li",
                "children": [
                  "rÂ² (coefficient of determination) = ",
                  {
                    "type": "StateComputed",
                    "props": {
                      "compute": "(correlationR * correlationR).toFixed(4)"
                    }
                  }
                ]
              },
              {
                "type": "li",
                "children": [
                  "Interpretation: ",
                  {
                    "type": "StateComputed",
                    "props": {
                      "compute": "Math.round(correlationR * correlationR * 100) + '% of variance explained'"
                    }
                  }
                ]
              },
              {
                "type": "li",
                "children": [
                  "Direction: ",
                  {
                    "type": "StateComputed",
                    "props": {
                      "compute": "correlationR > 0 ? 'positive â†—' : correlationR < 0 ? 'negative â†˜' : 'none â†’'"
                    }
                  }
                ]
              }
            ]
          }
        ]
      },
      {
        "type": "Section",
        "props": {
          "title": "4. Layout Components"
        },
        "children": [
          {
            "type": "p",
            "children": "The engine includes several layout primitives:"
          },
          {
            "type": "Callout",
            "props": {
              "type": "info"
            },
            "children": "This is an INFO callout â€” use it for helpful tips."
          },
          {
            "type": "Callout",
            "props": {
              "type": "warning"
            },
            "children": "This is a WARNING callout â€” use it for important caveats."
          },
          {
            "type": "Callout",
            "props": {
              "type": "success"
            },
            "children": "This is a SUCCESS callout â€” use it for positive confirmations."
          },
          {
            "type": "DeepDive",
            "props": {
              "title": "Click to expand this Deep Dive section"
            },
            "children": [
              {
                "type": "p",
                "children": "DeepDive components are collapsible sections perfect for optional detailed explanations. They start collapsed by default."
              },
              {
                "type": "p",
                "children": [
                  "Even inside a DeepDive, state bindings work: temperature is ",
                  {
                    "type": "StateValue",
                    "props": {
                      "bind": "temperature",
                      "format": ".0f"
                    }
                  },
                  "Â°F."
                ]
              },
              {
                "type": "Slider",
                "props": {
                  "bind": "temperature",
                  "min": 32,
                  "max": 100,
                  "step": 1,
                  "label": "Temperature (Â°F)"
                }
              }
            ]
          }
        ]
      },
      {
        "type": "Section",
        "props": {
          "title": "5. Code Blocks"
        },
        "children": [
          {
            "type": "p",
            "children": "Code can be displayed with syntax highlighting (basic for now):"
          },
          {
            "type": "Code",
            "props": {
              "language": "javascript"
            },
            "children": "// The state is defined in JSON:\n{\n  \"state\": {\n    \"correlationR\": 0.65,\n    \"sampleSize\": 50\n  }\n}\n\n// Components bind to it:\n<StateValue bind=\"correlationR\" format=\".2f\" />"
          }
        ]
      },
      {
        "type": "Section",
        "props": {
          "title": "6. AI-Powered Annotations"
        },
        "children": [
          {
            "type": "p",
            "children": "Select any text on this page and click 'Explain' or 'Go Deeper' to generate AI-powered contextual explanations. The AI understands what you're reading and explains concepts in context, not just generic definitions."
          },
          {
            "type": "Callout",
            "props": {
              "type": "tip"
            },
            "children": "Try selecting a phrase like 'coefficient of determination' above â€” the AI will explain what it means in the context of correlation analysis!"
          }
        ]
      },
      {
        "type": "Section",
        "props": {
          "title": "How It Works"
        },
        "children": [
          {
            "type": "p",
            "children": "This entire tutorial is defined as a JSON file. The TutorialEngine recursively renders it using a component registry. Each element has a 'type' (component name) and optional 'props' and 'children'."
          },
          {
            "type": "p",
            "children": "When you request an annotation, the server calls Claude (via AWS Bedrock or Anthropic API), generates contextual content, inserts it into the JSON, and commits to Git â€” all automatically."
          }
        ]
      }
    ]
  }
}